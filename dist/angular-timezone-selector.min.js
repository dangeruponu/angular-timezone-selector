angular.module("angular-timezone-selector",[]).constant("_",_).constant("moment",moment).factory("timezones",["_","moment",function(a,b){var c={};return a.forEach(b.tz.names(),function(a){c[a]={id:a,name:a.replace(/_/g," "),offset:"UTC"+b().tz(a).format("Z")}}),c}]).factory("zoneToCC",["_",function(a){var b=[{id:"371",cca2:"US",name:"America/New_York"},{id:"372",cca2:"US",name:"America/Detroit"},{id:"373",cca2:"US",name:"America/Kentucky/Louisville"},{id:"374",cca2:"US",name:"America/Kentucky/Monticello"},{id:"375",cca2:"US",name:"America/Indiana/Indianapolis"},{id:"376",cca2:"US",name:"America/Indiana/Vincennes"},{id:"377",cca2:"US",name:"America/Indiana/Winamac"},{id:"378",cca2:"US",name:"America/Indiana/Marengo"},{id:"379",cca2:"US",name:"America/Indiana/Petersburg"},{id:"380",cca2:"US",name:"America/Indiana/Vevay"},{id:"381",cca2:"US",name:"America/Chicago"},{id:"382",cca2:"US",name:"America/Indiana/Tell_City"},{id:"383",cca2:"US",name:"America/Indiana/Knox"},{id:"384",cca2:"US",name:"America/Menominee"},{id:"385",cca2:"US",name:"America/North_Dakota/Center"},{id:"386",cca2:"US",name:"America/North_Dakota/New_Salem"},{id:"387",cca2:"US",name:"America/North_Dakota/Beulah"},{id:"388",cca2:"US",name:"America/Denver"},{id:"389",cca2:"US",name:"America/Boise"},{id:"390",cca2:"US",name:"America/Phoenix"},{id:"391",cca2:"US",name:"America/Los_Angeles"},{id:"392",cca2:"US",name:"America/Anchorage"},{id:"393",cca2:"US",name:"America/Juneau"},{id:"394",cca2:"US",name:"America/Sitka"},{id:"395",cca2:"US",name:"America/Yakutat"},{id:"396",cca2:"US",name:"America/Nome"},{id:"397",cca2:"US",name:"America/Adak"},{id:"398",cca2:"US",name:"America/Metlakatla"},{id:"399",cca2:"US",name:"Pacific/Honolulu"}],c={};return a.forEach(b,function(a){c[a.name]=a.cca2}),c}]).factory("CCToCountryName",["_",function(a){var b=[{cca2:"US",name:"United States"}],c={};return a.forEach(b,function(a){c[a.cca2]=a.name}),c}]).directive("timezoneSelector",["_","timezones","zoneToCC","CCToCountryName",function(a,b,c,d){return{restrict:"E",replace:!0,template:'<select style="min-width:300px;"></select>',scope:{ngModel:"="},link:function(e,f,g){var h=[],i={};a.forEach(b,function(b){if(a.has(c,b.id)){var d=c[b.id];i[d]=i[d]?i[d]:[],i[d].push(b)}}),a.forEach(i,function(a,b){var c={text:d[b]+": ",children:a};h.push(c)}),h=a.sortBy(h,"text"),a.forEach(h,function(a){var b=$('<optgroup label="'+a.text+'">');a.children.forEach(function(a){b.append('<option value="'+a.id+'">'+a.name+"</option>")}),f.append(b)}),f.chosen({width:"300px",include_group_label_in_selected:!0,search_contains:!0,no_results_text:"No results, try searching for the name of your country or nearest major city.",placeholder_text_single:"Choose a timezone"}),e.$watch("ngModel",function(){f.val(e.ngModel),f.trigger("chosen:updated")})}}}]);